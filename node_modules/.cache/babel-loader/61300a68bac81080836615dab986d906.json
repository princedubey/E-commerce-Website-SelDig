{"ast":null,"code":"import \"../Firebase\";\nimport { collection, query, getFirestore, onSnapshot, doc, deleteDoc } from \"firebase/firestore\";\nconst db = getFirestore();\nconst q = query(collection(db, \"Checkout\"));\nexport default {\n  name: \"OrdersView\",\n\n  data() {\n    return {\n      id: 0,\n      orders: []\n    };\n  },\n\n  created() {\n    onSnapshot(q, querySnapshot => {\n      this.orders = [];\n      querySnapshot.forEach(doc => {\n        this.orders.push({\n          key: doc.id,\n          name: doc.data().name,\n          date: doc.data().date,\n          total: doc.data().total,\n          cart: doc.data().cart\n        });\n      });\n    });\n  },\n\n  methods: {\n    RemoveFromCheckout(key) {\n      deleteDoc(doc(db, \"Checkout\", key)).then(() => {// document.getElementById(\"close\").click();\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAgEA,OAAO,aAAP;AAEA,SACEA,UADF,EAEEC,KAFF,EAGEC,YAHF,EAIEC,UAJF,EAKEC,GALF,EAMEC,SANF,QAOO,oBAPP;AAQA,MAAMC,EAAC,GAAIJ,YAAY,EAAvB;AACA,MAAMK,IAAIN,KAAK,CAACD,UAAU,CAACM,EAAD,EAAK,UAAL,CAAX,CAAf;AAEA,eAAe;EACbE,IAAI,EAAE,YADO;;EAEbC,IAAI,GAAG;IACL,OAAO;MACLC,EAAE,EAAE,CADC;MAELC,MAAM,EAAE;IAFH,CAAP;EAID,CAPY;;EAQbC,OAAO,GAAG;IACRT,UAAU,CAACI,CAAD,EAAKM,aAAD,IAAmB;MAC/B,KAAKF,MAAL,GAAc,EAAd;MACAE,aAAa,CAACC,OAAd,CAAuBV,GAAD,IAAS;QAC7B,KAAKO,MAAL,CAAYI,IAAZ,CAAiB;UACfC,GAAG,EAAEZ,GAAG,CAACM,EADM;UAEfF,IAAI,EAAEJ,GAAG,CAACK,IAAJ,GAAWD,IAFF;UAGfS,IAAI,EAAEb,GAAG,CAACK,IAAJ,GAAWQ,IAHF;UAIfC,KAAK,EAAEd,GAAG,CAACK,IAAJ,GAAWS,KAJH;UAKfC,IAAI,EAAEf,GAAG,CAACK,IAAJ,GAAWU;QALF,CAAjB;MAOD,CARD;IASD,CAXS,CAAV;EAYD,CArBY;;EAsBbC,OAAO,EAAE;IACPC,kBAAkB,CAACL,GAAD,EAAM;MACtBX,SAAS,CAACD,GAAG,CAACE,EAAD,EAAK,UAAL,EAAiBU,GAAjB,CAAJ,CAAT,CAAoCM,IAApC,CAAyC,MAAM,CAC7C;MACD,CAFD;IAGD;;EALM;AAtBI,CAAf","names":["collection","query","getFirestore","onSnapshot","doc","deleteDoc","db","q","name","data","id","orders","created","querySnapshot","forEach","push","key","date","total","cart","methods","RemoveFromCheckout","then"],"sourceRoot":"","sources":["/home/rani/Desktop/programmation/web dev/myprojectvuejs/src/views/Orders.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <br />\n    <h1 style=\"text-align: center\">Orders</h1>\n    <br />\n    <table class=\"table table-bordered\">\n      <thead style=\"background: #39b5ff; color: white\">\n        <tr>\n          <!-- <th scope=\"col\"></th> -->\n          <th scope=\"col\">name</th>\n          <th scope=\"col\">Date</th>\n          <th scope=\"col\">Total Price</th>\n          <th scope=\"col\">Products</th>\n          <th scope=\"col\">Actions</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"item in orders\" :key=\"item.name\">\n          <!-- <th scope=\"row\"></th> -->\n          <td class=\"align-middle\">{{ item.name }}</td>\n          <td class=\"align-middle\">{{ item.date }}</td>\n          <td class=\"align-middle\">{{ item.total }} DT</td>\n          <td>\n            <table class=\"table mb-0 table-bordered\">\n              <thead>\n                <tr class=\"table-secondary\">\n                  <th scope=\"col\">Name</th>\n                  <th scope=\"col\">Quantity</th>\n                  <th scope=\"col\">Price</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr v-for=\"cartitem in item.cart\" :key=\"cartitem.name\">\n                  <td>{{ cartitem.name }}</td>\n                  <td>{{ cartitem.quantity }}</td>\n                  <td>{{ cartitem.totalPrice }} DT</td>\n                </tr>\n                <tr>\n                  <td colspan=\"2\" class=\"table-active\">\n                    Total Price (tax included)\n                  </td>\n                  <td>{{ item.total }} DT</td>\n                </tr>\n              </tbody>\n            </table>\n          </td>\n          <td>\n            <div class=\"d-grid gap-2\">\n              <button type=\"button\" class=\"btn btn-success\">Success</button>\n              <button\n                @click=\"RemoveFromCheckout(item.key)\"\n                type=\"button\"\n                class=\"btn btn-danger\"\n              >\n                Reject\n              </button>\n            </div>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</template>\n<script>\nimport \"../Firebase\";\n\nimport {\n  collection,\n  query,\n  getFirestore,\n  onSnapshot,\n  doc,\n  deleteDoc,\n} from \"firebase/firestore\";\nconst db = getFirestore();\nconst q = query(collection(db, \"Checkout\"));\n\nexport default {\n  name: \"OrdersView\",\n  data() {\n    return {\n      id: 0,\n      orders: [],\n    };\n  },\n  created() {\n    onSnapshot(q, (querySnapshot) => {\n      this.orders = [];\n      querySnapshot.forEach((doc) => {\n        this.orders.push({\n          key: doc.id,\n          name: doc.data().name,\n          date: doc.data().date,\n          total: doc.data().total,\n          cart: doc.data().cart,\n        });\n      });\n    });\n  },\n  methods: {\n    RemoveFromCheckout(key) {\n      deleteDoc(doc(db, \"Checkout\", key)).then(() => {\n        // document.getElementById(\"close\").click();\n      });\n    },\n  },\n};\n</script>"]},"metadata":{},"sourceType":"module"}