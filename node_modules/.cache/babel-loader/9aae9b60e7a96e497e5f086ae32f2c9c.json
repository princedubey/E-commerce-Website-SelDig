{"ast":null,"code":"import \"../Firebase\";\nimport { collection, query, getFirestore, onSnapshot, doc, deleteDoc } from \"firebase/firestore\";\nconst db = getFirestore();\nconst q = query(collection(db, \"Checkout\"));\nexport default {\n  name: \"OrdersView\",\n\n  data() {\n    return {\n      orders: [],\n      dataProduct: {\n        name: \"\",\n        price: 0,\n        image: \"\",\n        brand: \"\",\n        description: \"\",\n        key: \"\"\n      }\n    };\n  },\n\n  created() {\n    onSnapshot(q, querySnapshot => {\n      this.orders = [];\n      querySnapshot.forEach(doc => {\n        this.orders.push({\n          key: doc.id,\n          name: doc.data().name,\n          address: doc.data().address,\n          number: doc.data().number,\n          date: doc.data().date,\n          total: doc.data().total,\n          cart: doc.data().cart\n        });\n      });\n    });\n  },\n\n  methods: {\n    getDataKey(key, name) {\n      this.dataProduct.key = key;\n      this.dataProduct.name = name;\n    },\n\n    RemoveFromCheckout(key) {\n      deleteDoc(doc(db, \"Checkout\", key)).then(() => {\n        document.getElementById(\"close\").click();\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA+TA,OAAO,aAAP;AAEA,SACEA,UADF,EAEEC,KAFF,EAGEC,YAHF,EAIEC,UAJF,EAKEC,GALF,EAMEC,SANF,QAOO,oBAPP;AAQA,MAAMC,EAAC,GAAIJ,YAAY,EAAvB;AACA,MAAMK,IAAIN,KAAK,CAACD,UAAU,CAACM,EAAD,EAAK,UAAL,CAAX,CAAf;AAEA,eAAe;EACbE,IAAI,EAAE,YADO;;EAEbC,IAAI,GAAG;IACL,OAAO;MACLC,MAAM,EAAE,EADH;MAELC,WAAW,EAAE;QACXH,IAAI,EAAE,EADK;QAEXI,KAAK,EAAE,CAFI;QAGXC,KAAK,EAAE,EAHI;QAIXC,KAAK,EAAE,EAJI;QAKXC,WAAW,EAAE,EALF;QAMXC,GAAG,EAAE;MANM;IAFR,CAAP;EAWD,CAdY;;EAebC,OAAO,GAAG;IACRd,UAAU,CAACI,CAAD,EAAKW,aAAD,IAAmB;MAC/B,KAAKR,MAAL,GAAc,EAAd;MACAQ,aAAa,CAACC,OAAd,CAAuBf,GAAD,IAAS;QAC7B,KAAKM,MAAL,CAAYU,IAAZ,CAAiB;UACfJ,GAAG,EAAEZ,GAAG,CAACiB,EADM;UAEfb,IAAI,EAAEJ,GAAG,CAACK,IAAJ,GAAWD,IAFF;UAGfc,OAAO,EAAElB,GAAG,CAACK,IAAJ,GAAWa,OAHL;UAIfC,MAAM,EAAEnB,GAAG,CAACK,IAAJ,GAAWc,MAJJ;UAKfC,IAAI,EAAEpB,GAAG,CAACK,IAAJ,GAAWe,IALF;UAMfC,KAAK,EAAErB,GAAG,CAACK,IAAJ,GAAWgB,KANH;UAOfC,IAAI,EAAEtB,GAAG,CAACK,IAAJ,GAAWiB;QAPF,CAAjB;MASD,CAVD;IAWD,CAbS,CAAV;EAcD,CA9BY;;EA+BbC,OAAO,EAAE;IACPC,UAAU,CAACZ,GAAD,EAAMR,IAAN,EAAY;MACpB,KAAKG,WAAL,CAAiBK,GAAjB,GAAuBA,GAAvB;MACA,KAAKL,WAAL,CAAiBH,IAAjB,GAAwBA,IAAxB;IACD,CAJM;;IAKPqB,kBAAkB,CAACb,GAAD,EAAM;MACtBX,SAAS,CAACD,GAAG,CAACE,EAAD,EAAK,UAAL,EAAiBU,GAAjB,CAAJ,CAAT,CAAoCc,IAApC,CAAyC,MAAM;QAC7CC,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCC,KAAjC;MACD,CAFD;IAGD;;EATM;AA/BI,CAAf","names":["collection","query","getFirestore","onSnapshot","doc","deleteDoc","db","q","name","data","orders","dataProduct","price","image","brand","description","key","created","querySnapshot","forEach","push","id","address","number","date","total","cart","methods","getDataKey","RemoveFromCheckout","then","document","getElementById","click"],"sourceRoot":"","sources":["/home/rani/Desktop/programmation/web dev/myprojectvuejs/src/views/Orders.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <br />\n    <h1 style=\"text-align: center\">Orders</h1>\n    <br />\n    <table class=\"table table-bordered\" v-if=\"orders.length > 0\">\n      <thead style=\"background: #39b5ff; color: white\">\n        <tr>\n          <!-- <th scope=\"col\"></th> -->\n          <th scope=\"col\">name</th>\n          <th scope=\"col\">Date</th>\n          <th scope=\"col\">Address</th>\n          <th scope=\"col\">Number</th>\n          <th scope=\"col\">Products</th>\n          <th scope=\"col\">Actions</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"item in orders\" :key=\"item.name\">\n          <!-- <th scope=\"row\"></th> -->\n          <td class=\"align-middle\">{{ item.name }}</td>\n          <td class=\"align-middle\">{{ item.date }}</td>\n          <td class=\"align-middle\">{{ item.address }}</td>\n          <td class=\"align-middle\">{{ item.number }}</td>\n          <td>\n            <table class=\"table mb-0 table-bordered\">\n              <thead>\n                <tr class=\"table-secondary\">\n                  <th scope=\"col\">Name</th>\n                  <th scope=\"col\">Quantity</th>\n                  <th scope=\"col\">Price</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr v-for=\"cartitem in item.cart\" :key=\"cartitem.name\">\n                  <td>{{ cartitem.name }}</td>\n                  <td>{{ cartitem.quantity }}</td>\n                  <td>{{ cartitem.totalPrice }} DT</td>\n                </tr>\n                <tr>\n                  <td colspan=\"2\" class=\"table-active\">\n                    Total Price (tax included)\n                  </td>\n                  <td>{{ item.total }} DT</td>\n                </tr>\n              </tbody>\n            </table>\n          </td>\n          <td>\n            <div class=\"d-grid gap-2\">\n              <button\n                type=\"button\"\n                class=\"btn btn-success\"\n                data-bs-toggle=\"modal\"\n                data-bs-target=\"#validation\"\n              >\n                Validation\n              </button>\n              <button\n                type=\"button\"\n                class=\"btn\"\n                style=\"background: red; color: white\"\n                data-bs-toggle=\"modal\"\n                data-bs-target=\"#delete\"\n                v-on:click=\"getDataKey(item.key, item.name)\"\n              >\n                Delete\n              </button>\n            </div>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <div\n      v-else\n      class=\"row d-flex justify-content-center align-items-center h-100\"\n    >\n      <br />\n      <div>\n        <center>orders page is empty</center>\n        <br />\n        <br />\n        <router-link to=\"/products\">\n          <img src=\"../assets/icons8_back_64px.png\" style=\"height: 37px\" />\n        </router-link>\n        <a style=\"width: auto\"> Continue shopping </a>\n      </div>\n    </div>\n    <!-- Modal 3 (delete) -->\n    <div\n      class=\"modal fade\"\n      id=\"delete\"\n      data-bs-backdrop=\"static\"\n      data-bs-keyboard=\"false\"\n      tabindex=\"-1\"\n      aria-labelledby=\"staticBackdropLabel\"\n      aria-hidden=\"true\"\n    >\n      <div class=\"modal-dialog\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h5 class=\"modal-title\" id=\"staticBackdropLabel\">Delete order</h5>\n            <button\n              type=\"button\"\n              class=\"btn-close\"\n              data-bs-dismiss=\"modal\"\n              aria-label=\"Close\"\n            ></button>\n          </div>\n          <div class=\"modal-body\">\n            .\n            <!-- form start here -->\n            <form>\n              <h3>\n                Do you want to delete this order of {{ dataProduct.name }} ?\n              </h3>\n            </form>\n            <!-- form end here -->\n          </div>\n          <div class=\"modal-footer\">\n            <button\n              type=\"button\"\n              id=\"close\"\n              class=\"btn btn-secondary\"\n              data-bs-dismiss=\"modal\"\n            >\n              Close\n            </button>\n            <button\n              type=\"button\"\n              class=\"btn\"\n              style=\"background: red; color: white\"\n              v-on:click=\"RemoveFromCheckout(dataProduct.key)\"\n            >\n              Delete\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- fin model -->\n    <!-- Modal  (validation) -->\n    <div\n      class=\"modal fade\"\n      id=\"validation\"\n      data-bs-backdrop=\"static\"\n      data-bs-keyboard=\"false\"\n      tabindex=\"-1\"\n      aria-labelledby=\"staticBackdropLabel\"\n      aria-hidden=\"true\"\n    >\n      <div class=\"modal-dialog modal-xl\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h5 class=\"modal-title\" id=\"staticBackdropLabel\">\n              Print the invoice\n            </h5>\n          </div>\n          <div class=\"modal-body\">\n            <!-- form start here -->\n            <div class=\"card\">\n              <div class=\"card-body\">\n                <div class=\"container mb-5 mt-3\">\n                  <div class=\"row d-flex align-items-baseline\">\n                    <div class=\"col-xl-9\">\n                      <p style=\"color: #7e8d9f; font-size: 20px\">\n                        Invoice &gt;&gt; <strong>ID: #123-123</strong>\n                      </p>\n                    </div>\n                  </div>\n                  <div class=\"container\">\n                    <div class=\"col-md-12\">\n                      <div class=\"text-center\">\n                        <i\n                          class=\"far fa-building fa-4x ms-0\"\n                          style=\"color: #8f8061\"\n                        ></i>\n                        <p class=\"pt-2\">Company Name</p>\n                      </div>\n                    </div>\n                    <div class=\"row\">\n                      <div class=\"col-xl-8\">\n                        <ul class=\"list-unstyled\">\n                          <li class=\"text-muted\">\n                            To:\n                            <span style=\"color: #8f8061\">John Bootstrap</span>\n                          </li>\n                          <li class=\"text-muted\">Street, City</li>\n                          <li class=\"text-muted\">State, Country</li>\n                          <li class=\"text-muted\">\n                            <i class=\"fas fa-phone\"></i> 123-456-789\n                          </li>\n                        </ul>\n                      </div>\n                      <div class=\"col-xl-4\">\n                        <p class=\"text-muted\">Invoice</p>\n                        <ul class=\"list-unstyled\">\n                          <li class=\"text-muted\">\n                            <i class=\"fas fa-circle\" style=\"color: #8f8061\"></i>\n                            <span class=\"fw-bold\">ID:</span>#123-456\n                          </li>\n                          <li class=\"text-muted\">\n                            <i class=\"fas fa-circle\" style=\"color: #8f8061\"></i>\n                            <span class=\"fw-bold\">Creation Date: </span>Jun\n                            23,2021\n                          </li>\n                          <li class=\"text-muted\">\n                            <i class=\"fas fa-circle\" style=\"color: #8f8061\"></i>\n                            <span class=\"me-1 fw-bold\">Status:</span\n                            ><span class=\"badge bg-warning text-black fw-bold\">\n                              Unpaid</span\n                            >\n                          </li>\n                        </ul>\n                      </div>\n                    </div>\n                    <div class=\"row my-2 mx-1 justify-content-center\">\n                      <div class=\"col-md-2 mb-4 mb-md-0\">\n                        <div\n                          class=\"\n                            bg-image\n                            ripple\n                            rounded-5\n                            mb-4\n                            overflow-hidden\n                            d-block\n                          \"\n                          data-ripple-color=\"light\"\n                        >\n                          <img\n                            src=\"https://mdbcdn.b-cdn.net/img/Photos/Horizontal/E-commerce/new/img(4).webp\"\n                            class=\"w-100\"\n                            height=\"100px\"\n                            alt=\"Elegant shoes and shirt\"\n                          />\n                          <a href=\"#!\">\n                            <div class=\"hover-overlay\">\n                              <div\n                                class=\"mask\"\n                                style=\"\n                                  background-color: hsla(0, 0%, 98.4%, 0.2);\n                                \"\n                              ></div>\n                            </div>\n                          </a>\n                        </div>\n                      </div>\n                      <div class=\"col-md-7 mb-4 mb-md-0\">\n                        <p class=\"fw-bold\">Custom suit</p>\n                        <p class=\"mb-1\">\n                          <span class=\"text-muted me-2\">Size:</span\n                          ><span>8.5</span>\n                        </p>\n                        <p>\n                          <span class=\"text-muted me-2\">Color:</span\n                          ><span>Gray</span>\n                        </p>\n                      </div>\n                      <div class=\"col-md-3 mb-4 mb-md-0\">\n                        <h5 class=\"mb-2\">\n                          <s class=\"text-muted me-2 small align-middle\">$1500</s\n                          ><span class=\"align-middle\">$1050</span>\n                        </h5>\n                        <p class=\"text-danger\"><small>You save 25%</small></p>\n                      </div>\n                    </div>\n                    <hr />\n                    <div class=\"row\">\n                      <div class=\"col-xl-8\">\n                        <p class=\"ms-3\">\n                          Add additional notes and payment information\n                        </p>\n                      </div>\n                      <div class=\"col-xl-3\">\n                        <ul class=\"list-unstyled\">\n                          <li class=\"text-muted ms-3\">\n                            <span class=\"text-black me-4\">SubTotal</span>$1050\n                          </li>\n                          <li class=\"text-muted ms-3 mt-2\">\n                            <span class=\"text-black me-4\">Shipping</span>$15\n                          </li>\n                        </ul>\n                        <p class=\"text-black float-start\">\n                          <span class=\"text-black me-3\"> Total Amount</span\n                          ><span style=\"font-size: 25px\">$1065</span>\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <!-- form end here -->\n          </div>\n          <div class=\"modal-footer\">\n            <button\n              type=\"button\"\n              id=\"close\"\n              class=\"btn btn-secondary\"\n              data-bs-dismiss=\"modal\"\n            >\n              Close\n            </button>\n            <button\n              type=\"button\"\n              class=\"btn\"\n              style=\"background: red; color: white\"\n              v-on:click=\"RemoveFromCheckout(dataProduct.key)\"\n            >\n              Delete\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- fin model -->\n  </div>\n</template>\n<script>\nimport \"../Firebase\";\n\nimport {\n  collection,\n  query,\n  getFirestore,\n  onSnapshot,\n  doc,\n  deleteDoc,\n} from \"firebase/firestore\";\nconst db = getFirestore();\nconst q = query(collection(db, \"Checkout\"));\n\nexport default {\n  name: \"OrdersView\",\n  data() {\n    return {\n      orders: [],\n      dataProduct: {\n        name: \"\",\n        price: 0,\n        image: \"\",\n        brand: \"\",\n        description: \"\",\n        key: \"\",\n      },\n    };\n  },\n  created() {\n    onSnapshot(q, (querySnapshot) => {\n      this.orders = [];\n      querySnapshot.forEach((doc) => {\n        this.orders.push({\n          key: doc.id,\n          name: doc.data().name,\n          address: doc.data().address,\n          number: doc.data().number,\n          date: doc.data().date,\n          total: doc.data().total,\n          cart: doc.data().cart,\n        });\n      });\n    });\n  },\n  methods: {\n    getDataKey(key, name) {\n      this.dataProduct.key = key;\n      this.dataProduct.name = name;\n    },\n    RemoveFromCheckout(key) {\n      deleteDoc(doc(db, \"Checkout\", key)).then(() => {\n        document.getElementById(\"close\").click();\n      });\n    },\n  },\n};\n</script>"]},"metadata":{},"sourceType":"module"}